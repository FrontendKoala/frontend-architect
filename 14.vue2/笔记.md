# 疑问：
0. vm.$options 是专门用于区分用户配置的选项吗？
1. 为什么要把this给到vm
2. 使用document.getElementById获取el有什么区别
3. 

# rollup
- js打包工具，区别于webpack的是不能处理非js文件
- 可以配合其他工具对高级语法进行转义
- npm i rollup(打包工具) @babel/core(babel核心模块) @babel/preset-env(将高级语法转成低级语法) rollup-plugin-babel(babel桥梁工具) rollup-plugin-serve(静态服务，访问静态页面) cross-env(设置环境) -D

# vue2内部流程
1. 用户new Vue实例后的流程
    1. init数据
        1. initState (属性、方法、data等)(对data进行数据劫持)
        2. 模板编译

# 响应式 数据劫持 核心代码
``` js
// 对于数组要做特殊处理，对push、shift等7个改变数组的方法进行重写。(因为set无法监听到push等方法给数组带来的变化)
function obsever(obj) {
    Object.keys(obj).forEach(key => {
        let value = obj[key]
        if(typeof value === 'object' && typeof value !== null) {
            obsever(value);
        }
        Object.defineProperty(obj, key, {
            get() {
                return value;
            },
            set (newValue) {
                if(typeof newValue === 'object' && typeof newValue !== null) {
                    obsever(newValue);
                }
                // 给{}新增属性是无法被set监听到的，除非给一个新的对象
                if(newValue !== value) {
                    console.log('数据发生变化');
                    value = newValue;
                }
            }
        })
    })
}

var obj = {a:1}
obsever(obj);

obj.a = { a: 1 }
obj.a.a = 2
```
# 模板编译
1. 如果用户编写了el，则走vm.$mount(el)挂载流程
2. $.mount会按照render>>template>>el的优先级进行模板编译
3. 如果没有render函数，会把模板转成函数放到options上。如果有render函数，直接用用户自己的
4. ast是用来描述html、js语法的。虚拟dom是用来描述dom结构的。它两很类似但不是一个东西。ast还可以用来描述js语法，虚拟dom只能用来描述dom结构。ast需要很清晰的对应上每个标签及属性，但虚拟dom只需要把需要的关键信息描述出来即可。
```js
<div id="abc" />
    // ast语法树
    {
        tag: "div",
        attrs: [
            {
                name: 'id',
                value: 'abc'
            }
        ],
        children: []
    }
    // 虚拟dom
    {
        tag: "div",
        data: [
            {id: "abc"}
        ]
    }
```

